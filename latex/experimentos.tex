En esta sección desarrollaremos y mostraremos los resultados de los experimentos para las siguientes
universidades:

\begin{itemize}
\item Universidad de Oxford(Reino Unido)
\item Universidad de Sydney (Australia)
\item Universidad de Ghana (Africa)
\end{itemize}

Para llevar adelante los experimentos utilizamos la herramienta descripta en la introducción. La cantidad de veces que ejecutamos nuestra versión de \texttt{traceroute} para cada universidad fue de \textbf{50}. Con esa cantidad lo que buscamos  es minimizar las oscilaciones en las rutas y tiempos fruto de balanceaos de carga de los routers.

Para identificar los saltos intercontinentales calculamos la variación en los \texttt{RTT} entre cada par de hops consecutivos, $\Delta RTT_{i}$, de la siguiente manera: \(\Delta RTT_{i} = RTT_{i} - RTT_{i-1}\), donde $2 \leq i \leq$ cantidad de hops. Siendo los candidatos a saltos intercontinentales los pares de hops con $\Delta RTT$ mayor al resto. A partir de este calculo, tendremos en cuenta la detección de falsos positivos y negativos contrastando nuestra inferencia con herramientas de geolocalización de direcciones IP, (\textbf{ref a geolookip o lo que sea}).

Por último, propondremos hipótesis para los casos de comportamiento anómalo.

\subsection{Universidad de Oxford}

Los resultados de este experimento pueden resumirse en el siguiente cuadro:

\begin{table}[ht]\begin{center}
    \begin{tabular}{|c|c|c|c|c|}
    \hline
    \textbf{Hop \#} & \textbf{IP}& \textbf{RTT (ms)} & \textbf{$\Delta$ RTT (\%)} & \textbf{Ubicacion} \\ \hline
    \texttt{1} & 192.168.0.1      &1.61       & -       & IP privada   \\ \hline
    \texttt{2} & 10.27.128.1      &9.35       & -       & IP privada  \\ \hline
    \texttt{3} & 10.242.1.61      & 10.83     & -       & IP privada  \\ \hline
    \texttt{4} & 208.178.195.214  & 12.40     & -       & Estados Unidos   \\ \hline
    \texttt{5} & 208.178.195.213  & 10.80     & -       & Estados Unidos   \\ \hline
    \texttt{6} & 67.17.99.233     & 137.77    & -       & Estados Unidos    \\ \hline
    \texttt{7} & *                & -        & -       & -   \\ \hline
    \texttt{8} & *                & -        & -       & -   \\ \hline
    \texttt{9} & 212.187.139.166  & 239.16    & -       & Gran Bretaña   \\ \hline
    \texttt{10} & 146.97.33.2     & 238.03    & -       & Gran Bretaña   \\ \hline
    \texttt{11} & 146.97.37.194   & 238.17    & -       & Gran Bretaña    \\ \hline
    \texttt{12} & 193.63.108.94   & 245.87    & -       &  Gran Bretaña \\ \hline
    \texttt{13} & 193.63.108.98   & 238.36    & -       & Gran Bretaña   \\ \hline
    \texttt{14} & 193.63.109.90   & 248.00    & -       & Gran Bretaña    \\ \hline
    \texttt{15} & *               & -        & -       & -   \\ \hline
    \texttt{16} & *               & -        & -       & -    \\ \hline
    \texttt{17} & 192.76.32.62    & 234.21    & -       & Oxford, Inglaterra, Gran Bretaña   \\ \hline
    \texttt{18} & 129.67.242.154  & 241.62    & -       & Oxfordshire, Gran Bretaña   \\ \hline
    \end{tabular}
    \caption{Ruta Universidad de Oxford (ox.ac.uk - IP 129.67.242.154)}
\end{center}\end{table}

Una vez mandados los paquetes y realizados los promedios, procederemos a graficar los tiempos resultantes.


\begin{figure}[H]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                ybar,
                xtick=data,
                width=15cm,
                ymin = 0,
                ylabel={RTT},
                xlabel={Hop number}208.178.195.213
            ]
            %\addplot table[x=hop,y=rtt]{data/oxford.dat};
        \end{axis}
    \end{tikzpicture}
\end{figure}

Con este gráfico podemos claramente observar los saltos negativos y en los que no hubo respuesta(estos
últimos los notamos con RTT -1).

Cuando los tiempos de ida y vuelta reportados por traceroute son falsas ocurre la esta anomalía, conocida
como False Round-Trip Times . Generalmente hay dos razones, ya sean rutas de paquete asimétricos o enrutamiento
MPLS. Cuando los respectivos caminos hacia y desde el destino son asimétricos, es decir, los paquetes se
encaminan por senderos diferentes desde y hacia el objetivo, los tiempos de ida y vuelta pueden no
reflejar el tiempo real que tarda un paquete para llegar al destino. El ida y vuelta resultantes muestran
posteriormente los valores engañosos. La trayectoria real puede de hecho ser mucho más corto o más largo
que el tiempo de ida y vuelta indica, dependiendo de la situación.

MPLS es un caso similar al anterior y podría verse en que los tiempos de ida y vuelta casi equivalentes
para varios saltos en el resultado de traceroute.

Daremos nuestras hipótesis sobre que casos son los que identificamos.

\begin{itemize}
\item Entre 4 y 5. Asimétricos.
\item Entre 9 y 10. Asimétrico.
\item Entre 12 y 13. Asimétrico.
\item Entre 14 y 17. Lo contamos porque 15 y 16 corresponden a hops perdidos. Es Asimétrico.
\end{itemize}

Por otro lado, tenemos los que no tuvieron respuesta. Esta anomalía es conocida como Missing Hops.
Se produce en general cuando un router está protegido por un firewall o de configurado otro modo para no
generar errores excesivos ICMP TTL. En nuestro caso tenemos 7, 8, 15, 16.

El hops 6 pertenece a Estados Unidos pero el 9 pertenece a Gran Bretaña. Pensamos que a la hora de
establecer el enlace continental se lo hizo primero con dos hops que nunca darán respuesta. La tercera
vez que intenta establecer el enlace a Reino Unido el hops le da respuesta, en este caso el 9.
Probando con la universidad de Cambrige, también ubicada en Gran Bretaña, se obtiene que también se
pierden hops entre una IP de Estados Unidos y la de Gran Bretaña. Como hipótesis alternativa
podriamos pensar que esto ocurre por culpa del enlace continental.%Tengo que desarrollarlo mejor

En el caso de 15 y 16 ocurre algo parecido, puesto que 14 pertenece a Gran Bretaña(sin ubicar region
ni ciudad) mientras que 17 pertenece a Oxford. En este caso es más probable que se trate de un caso aislado
ya que no existe un salto continental, solamente regional.

Además tenemos identificado un posible salto continental en 208.178.195.213 - 67.17.99.233. Sin embargo esto
es incorrecto ya que ambas IP pertenecen al dominio de Estados Unidos(Aunque la primera no puede estar ubicada
en ese lugar por razones que explicaremos más adelante). El salto continental se produce entre 6 y 9, aunque
si vemos el gráfico de RRTs podemos apreciar que la diferencia no es muy grande.

También podemos observar la anomalía de False Link en los hops 4 y 5 ya que muestran como ubicación a Estados Unidos
, sin embargo los RTT de ambos no corresponden con la distancia que tuvieron que recorrer entre 3 y 4. El número 6
posee un RTT más propio del primero ubicado en Estados Unidos. Una posible explicación para esta anomalía es que
los servidores intermedios entre Argentina y Estados Unidos(posiblemente ubicados en Brasil) pertenecen a una
compañia estodounidence y nuestra herramienta de ubicación utiliza este dato para aproximar su ubicación.

\newpage

\subsection{Universidad de Syndney}

Los resultados de este experimento pueden resumirse en el siguiente cuadro:

\begin{table}[ht]\begin{center}
    \begin{tabular}{|c|c|c|c|c|}
    \hline
    \textbf{Hop \#} & \textbf{IP}& \textbf{RTT (ms)} & \textbf{$\Delta$ RTT (\%)} & \textbf{Ubicacion (ipinfo.io)} \\ \hline
    \texttt{1} & 192.168.0.1      & 1.38    & -       & IP privada  \\ \hline
    \texttt{2} & *                & -       & -       & -   \\ \hline
    \texttt{3} & *                & -       & -       & -   \\ \hline
    \texttt{4} & *                & -       & -       & -   \\ \hline
    \texttt{5} & *                & -       & -       & -   \\ \hline
    \texttt{6} & 200.89.165.9     & 14.06   & -       & Argentina    \\ \hline
    \texttt{7} & 200.89.165.250   & 14.71    & 0.65   & Argentina   \\ \hline
    \texttt{8} & 190.216.88.33    & 16.23    & 10.33  & Ciudad de Buenos Aires, Argentina   \\ \hline
    \texttt{9} & 67.17.94.249     & 240.04  & 223.81 & Estados Unidos   \\ \hline
    \texttt{10} & *               & -       & -       & -   \\ \hline
    \texttt{11} & *               & -       & -       & -    \\ \hline
    \texttt{12} & 4.68.127.54     & 213.49  & -       & Estados Unidos   \\ \hline
    \texttt{13} & 129.250.4.250   & 229.91  & 16.48    & Colorado, Estados Unidos   \\ \hline
    \texttt{14} & 129.250.2.219   & 271.08  & 41.17   & Colorado, Estados Unidos   \\ \hline
    \texttt{15} & 129.250.7.69    & 269.29  & -1.79   & Colorado, Estados Unidos   \\ \hline
    \texttt{16} & 129.250.3.123   & 273.33  & 4.04    & Colorado, Estados Unidos    \\ \hline
    \texttt{17} & 204.1.253.166   & 269.75  & -3.58   & Colorado, Estados Unidos   \\ \hline
    \texttt{18} & 202.158.194.172 & 371.34  & 101.59   & Canberra, Australia   \\ \hline
    \texttt{19} & 113.197.15.68   & 377.51  & 6.17    & Canberra, Australia   \\ \hline
    \texttt{20} & 113.197.15.66   & 377.32  & -0.19   & Canberra, Australia   \\ \hline
    \texttt{21} & 113.197.15.152  & 418.35  & 41.03   & Canberra, Australia    \\ \hline
    \texttt{22} & 138.44.5.47     & 371.39  & -46.96  & Victoria, Australia   \\ \hline
    \texttt{23} & *               & -       & -       & -                \\ \hline
    \texttt{24} & *               & -       & -       & -   \\ \hline
    \texttt{25} & 129.78.5.8      & 446.28  & -       & Sydney, Australia   \\ \hline
    \end{tabular}
    \caption{Ruta Universidad de Sydney (sydney.edu.au - IP 129.78.5.8)}
\end{center}\end{table}

\begin{figure}[H]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                ybar,
                xtick=data,
                width=15cm,
                ymin = 0,
                ylabel={RTT},
                xlabel={Hop number}
            ]
            \addplot table[x=hop,y=rtt]{data/sidney.dat};
        \end{axis}
    \end{tikzpicture}
\end{figure}

A continuación analizamos los resultados del experimento utilizando las anomalias descriptas previamente:
\begin{itemize}
    \item \textit{Missing hops}: de los hops 2, 3, 4, 5, 10, 11, 23 y 24 no obtuvimos respuesta.
    \item \textit{False RTT}: en los hops 15, 17, 20, 22.
\end{itemize}

\subsection{Universidad de Ghana}

Los resultados de este experimento pueden resumirse en el siguiente cuadro:

\begin{table}[ht]\begin{center}
    \begin{tabular}{|c|c|c|c|c|}
    \hline
    \textbf{Hop \#} & \textbf{IP} & \textbf{RTT (ms)} & \textbf{$\Delta$ RTT (\%)} & \textbf{Ubicacion}             \\ \hline
    \texttt{1}  & 10.27.64.1      & 14.23             & -                          & Prov. Buenos Aires, Argentina  \\ \hline
    \texttt{2}  & 10.242.1.149    & 11.58             & -                          & Prov. Buenos Aires, Argentina  \\ \hline
    \texttt{3}  & 195.22.220.33   & 13.38             & -                          & Italia                         \\ \hline
    \texttt{4}  & 195.22.220.32   & 11.97             & -                          & Italia                         \\ \hline
    \texttt{5}  & 195.22.206.92   & 172.40            & -                          & Italia                         \\ \hline
    \texttt{6}  & 195.22.206.92   & 172.13            & -                          & Italia                         \\ \hline
    \texttt{7}  & 216.6.87.202    & 164.11            & -                          & Delaware, Estados Unidos       \\ \hline
    \texttt{8}  & 216.6.87.169    & 255.53            & -                          & Delaware, Estados Unidos       \\ \hline
    \texttt{9}  & 216.6.57.1      & 253.17            & -                          & Delaware, Estados Unidos       \\ \hline
    \texttt{10} & 66.198.70.174   & 230.14            & -                          & Delaware, Estados Unidos       \\ \hline
    \texttt{11} & 80.231.76.121   & 253.52            & -                          & Reino Unido, Europa            \\ \hline
    \texttt{12} & 195.219.195.238 & 325.31            & -                          & Reino Unido, Europa            \\ \hline
    \texttt{13} & 41.21.232.70    & 324.90            & -                          & Sudafrica                      \\ \hline
    \texttt{14} & 41.204.60.149   & 327.05            & -                          & Ghana                          \\ \hline
    \texttt{15} & 41.204.60.150   & 327.73            & -                          & Ghana                          \\ \hline
    \texttt{16} & 197.255.127.2   & 328.85            & -                          & Ghana                          \\ \hline
    \texttt{17} & 197.255.125.10  & 331.42            & -                          & Ghana                          \\ \hline
    \end{tabular}
    \caption{Ruta Universidad de Ghana (ug.edu.gh  - IP 197.255.125.10)}
\end{center}
\end{table}

A continuación analizamos la anomalias encontradas:

% \begin{itemize}
%   \
% \end{itemize}

\begin{figure}[H]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                ybar,
                xtick=data,
                width=15cm,
                ymin = 0,
                ylabel={RTT},
                xlabel={Hop number}
            ]
            \addplot table[x=hop,y=rtt]{data/ghana.dat};
        \end{axis}
    \end{tikzpicture}
\end{figure}


\subsection{Universidad de Hong Kong de Ciencia y Tecnologia (HKUST)}

Los resultados de este experimento pueden resumirse en el siguiente cuadro:

\begin{table}[ht]\begin{center}
    \begin{tabular}{|c|c|c|c|}
    \hline
    \textbf{Hop \#} & \textbf{IP} & \textbf{RTT (ms)} & \textbf{Ubicacion} \\ \hline
    \texttt{1} &  192.168.1.1 & 0.36 & Local \\ \hline
    \texttt{2} &  200.3.60.192 & 12.24 & Entre Ríos Province, AR \\ \hline
    \texttt{3} &  181.88.108.18 & 16.01 & Entre Ríos Province, AR \\ \hline
    \texttt{4} &  190.225.252.166 & 13.85 & Entre Ríos Province, AR \\ \hline
    \texttt{5} &  195.22.220.213 & 11.73 & Italia \\ \hline
    \texttt{6} &  195.22.219.3 & 38.76 & Italia \\ \hline
    \texttt{7} &  195.22.219.3 & 38.63 & Italia \\ \hline
    \texttt{8} &  149.3.181.65 & 87.87 & Italia \\ \hline
    \texttt{9} &  129.250.2.227 & 208.21 & Colorado, US \\ \hline
    \texttt{10} & 129.250.4.13 & 281.09 & Colorado, US \\ \hline
    \texttt{11} & 129.250.2.38 & 422.20 & Colorado, US \\ \hline
    \texttt{12} & 129.250.5.134 & 429.55 & Colorado, US \\ \hline
    \texttt{13} & 129.250.6.115 & 432.51 & Colorado, US \\ \hline
    \texttt{14} & 203.131.246.154 & 452.04 & Hong Kong \\ \hline
    \texttt{15} & 115.160.187.110 & 444.46 & Hong Kong \\ \hline
    \texttt{16} & 202.130.98.102 & 440.41 & Hong Kong \\ \hline
    \texttt{17} & 203.188.117.130 & 440.65 & Hong Kong \\ \hline
    \texttt{18} & 202.14.80.153 & 443.62 & Hong Kong \\ \hline
    \texttt{19} & 143.89.14.2 & 448.84 & Hong Kong \\ \hline
    \end{tabular}
    \caption{Ruta Universidad de Hong Kong de Ciencia y Tecnologia (www.ust.hk  - IP 143.89.14.2)}
\end{center}
\end{table}

\begin{figure}[H]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                ybar,
                xtick=data,
                width=15cm,
                ymin = 0,
                ylabel={RTT},
                xlabel={Hop number}
            ]
            \addplot table[x=hop,y=rtt]{data/hongkong.dat};
        \end{axis}
    \end{tikzpicture}
\end{figure}
